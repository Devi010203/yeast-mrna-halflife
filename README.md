# Yeast-mrna-halflife
Code and scripts for yeast mRNA half-life prediction from UTR sequences using RNA-FM and PyTorch.


This repository contains a mRNA 3′UTR half-life prediction project based on the **RNA-FM pre-trained model + Transformer**.
 
Includes master model training, five-fold cross-validation, one full training, and the main analysis and plotting scripts used in the paper.

---

## 1. Environment and dependencies (uv management)

This project uses [uv](https://github.com/astral-sh/uv) to manage Python dependencies and virtual environments:

- `pyproject.toml`: project dependencies and configuration files
 
- `uv.lock`: dependency lock file (to ensure environment reproducibility)

### Quick start

Execute in the project root directory (the directory containing `pyproject.toml`):

# Install/synchronize dependencies and create a virtual environment (.venv/)
uv sync

# Run the main program (50% off cross-validation + full data complete training/evaluation)
uv run main.py

If you need to run separate analysis/plotting scripts, e.g. cross-validation results visualization:

uv run Paper/plots/new-2/plot_cv.py

(Please adjust the script path according to the actual directory structure.)

--- - - - - - - - - - - - - - - - - - - - - - -

## 2. Main program (main.py)

- `main.py` is the main entry point of the project, implemented by default:
- **5-fold cross validation**: perform 5-fold CV on training set, output per-fold validation metrics, logs with intermediate results;
- **One full training and evaluation**: re-train the final model using the full training data and evaluate the performance on an independent test set.

Run the example:

uv run main.py

For details on data paths, output directories, etc., please refer to the `main.py` internal comments and configuration.

---

## 3. Data and pre-trained models (data_release)

The `data_release/` directory contains:

- `processed/`:
 
**Derived dataset** obtained by automated Python script processing of public paper supplements + standard genome/sequencing files.
 
(e.g. extracting 3′UTR sequences, integrating half-lives, calculating base features, etc.).

- `predictions/`:
 
A table of **real values + model predictions** from the main program on an independent test set, which can be used to reproduce experimental results and plots.

- `model/`:
 
Reserved **RNA-FM pre-training model storage location**.
 
This repository does not provide weights files directly.
 
Please follow the instructions in `data_release/README.md` to download the corresponding RNA-FM model and tokenizer from the official sources and place them in this directory for a complete reproduction of the experiment.

> See `data_release/README.md` for a more detailed description of data sources and fields.

---

## 4. Analysis and Plotting Scripts

Most of the analysis scripts associated with the main thesis and supplementary materials are located at:

- `code_release/src/analysis_and_plot`.

Typical uses include (examples):

- Cross-validation of performance and learning curves
- Bland-Altman analysis
- Residual distribution and normality testing
- k-mer enrichment and error source analysis
- Sliding-window occlusion position effect analysis
- Interpretability (motif substitution, in-silico mutation) analysis.

This can usually be run directly from the project root directory via uv, e.g.:

uv run plot_bland_altman.py

The input files (datasets/predictions) required for each script are typically from:

- `data_release/processed/'
- `data_release/predictions/`
- The `results/` directory generated by the main program run.
 

Please refer to the README in the corresponding script file or subdirectory for details.

--- --- --- --- --- --- --- --- --- --- --- ---

## 5. Citation

If you use the code or dataset of this repository in your scientific work, it is recommended to cite this project/corresponding paper in your dissertation.
 
A similar format can be used temporarily until the paper is officially published:

> Xu J. *Deep learning-based prediction of mRNA 3′UTR half-life from sequence features* (manuscript in preparation).

(In the future, official journal information and DOIs will be available, and can be updated to the official citation format here or in BibTeX.)

---

## 6. License

This item is released under the **MIT License** open source.
 
The full terms and conditions can be found in the `LICENSE` file in the root directory.
